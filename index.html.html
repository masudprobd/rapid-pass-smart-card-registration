<style>
    li {
       background-color: #ffa2fa;
       color: #ffffff;
       border: 1px solid #ccc;
       box-shadow: 1px 1px 1px 1px #ccc;
       padding: 5px;
       text-align: center;
       font-weight: bold;
       font-size: 16px;
       line-height: 30px;
       margin-bottom: 4px;
       width: 50%;
       margin-top: 1px;
   } 
     
   
   
   li {
       display: inline-block;
      color: #ffffff;
       padding: 6px 12px;
       margin-bottom: 0;
       font-size: 30px;
       font-weight: 400;
       line-height: 1.42857143;
       text-align: center;
       white-space: nowrap;
       -ms-touch-action: manipulation;
       touch-action: manipulation;
       cursor: pointer;
       -webkit-user-select: none;
       -moz-user-select: none;
       -ms-user-select: none;
       user-select: none;
       background-image: none;
       border: 1px solid transparent;
       border-radius: 4px;
   }
   
   </style>
   
   
   
   
   
   
   
   
   <html>
   <head>
   
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link href="https://rapidpass.com.bd/bn/css/font-awesome.css" rel="stylesheet">
      <link rel="stylesheet" href="https://rapidpass.com.bd/bn/css/bootstrap.min.css">
      <link rel="stylesheet" href="https://rapidpass.com.bd/bn/css/bootstrap-responsive.min.css">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
          
           <meta name="description" content="CSS3 Lightbox - A CSS-only lightbox" />
           <meta name="keywords" content="css3, lightbox, overlay, effect, images, thumbnails" />
           <meta name="author" content="Codrops" />
           <link rel="shortcut icon" href="https://rapidpass.com.bd/bn/../favicon.ico"> 
           <link rel="stylesheet" type="text/css" href="https://rapidpass.com.bd/bn/css/demo.css" />
           <link rel="stylesheet" type="text/css" href="https://rapidpass.com.bd/bn/css/style.css" />
            <script language="javascript" type="text/javascript">
   
   function clearText(field)
   {
       if (field.defaultValue == field.value) field.value = '';
       else if (field.value == '') field.value = field.defaultValue;
   }
   </script>
   
   <link rel="stylesheet" href="https://rapidpass.com.bd/bn/css/nivo-slider.css" type="text/css" media="screen" />
   <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript"></script>
   <script src="https://rapidpass.com.bd/bn/js/jquery.nivo.slider.js" type="text/javascript"></script>
   <script src="https://rapidpass.com.bd/bn/js/bootstrap.min.js" type="text/javascript"></script>
   <link href="https://rapidpass.com.bd/bn/css/cnt.css" rel="stylesheet">
   <link href="https://rapidpass.com.bd/bn/css/frm.css" rel="stylesheet">
   <link href="https://rapidpass.com.bd/bn/css/abt.css" rel="stylesheet">
   <link href="https://rapidpass.com.bd/bn/css/glry.css" rel="stylesheet">
   
   
   
     <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
     <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
   
   
       <script type="text/javascript">
   
       $(document).ready(function(){
   
            $("#carouselExampleIndicators").carousel();
   
       });
   
       </script>
     
     
   
   <style>
       
   .blink-soft {
     animation: blinker 4.5s linear infinite;
   }
   @keyframes blinker {
     50% {
       opacity: 0;
     }
   }
   
   #tokenModalTitle{
       font-size:20px;
       color:red;
   }
   </style>
   
   
   </head>
     
     
   <body>
   
     <br/>  <br/>
   <h5 class="modal-title text-center" id="exampleModalLongTitle"><b style="color:red;font-size:20px">র‍্যাপিড পাস কার্ড নিবন্ধন</b></h5>
   
   
   <div class="panel-body">
                                   <p> <b>আপনার যদি র‍্যাপিড পাস কার্ড থাকে এবং রেজিষ্ট্রেশন করে না থাকেন তাহলে আপনার কার্ড নম্বর এবং ইমেইল দিয়ে নিবন্ধন করুন </b> </p>
                                 </div>
   
   
   
   
   <!--start of menu-->
   <center><div class="menu template clear">
   <ul>
   
     <!--<li class="col4"><a href="https://rapidpass.com.bd/bn/index.php/welcome/online_form">রেজিষ্ট্রেশন</a> </li>-->
     <li class="col4"><a href="" data-toggle="modal" data-target="#verifyModal">রেজিষ্ট্রেশন</a> </li>
   
   </ul> 
   </div></center>
     
     
     <!--end of menu -->
   <!--end of menu-->
   
   <!--start of sldier_section-->
   <div class="slider_section template">
   <!--<div class="slider_section_left clear">
   <img src="img/2.jpg" alt="logo"/>
   <h4> You can use Rpass in train travelling </h4>
   
   </div>end of slider_section_left  -->
   <style>
   
   .fiximg {
       opacity: 1.0;
       filter: alpha(opacity=50); /* For IE8 and earlier */
   }
   
   
   </style>
   
   
     </div>   
    <!-- Start Verify Modal-->
    <div class="modal fade" id="verifyModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" >
             <div class="modal-dialog modal-dialog-centered" role="document">
                   <div class="modal-content">
                     <div class="modal-header">
                       <h5 class="modal-title text-center" id="exampleModalLongTitle"><b style="color:red;font-size:20px">র‍্যাপিড পাস কার্ড নিবন্ধন</b></h5>
                       <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                         <span aria-hidden="true">×</span>
                       </button>
                           <div class="row" style="margin-top:30px">
                             <div class="col-sm-12 col-md-12 col-lg-12">
                               <div class="panel panel-default" style="border-radius: 10px;text-align:center;font-size:1.5rem">
                                 <div class="panel-body">
                                   <p> <b>আপনার যদি র‍্যাপিড পাস কার্ড থাকে এবং রেজিষ্ট্রেশন করে না থাকেন তাহলে আপনার কার্ড নম্বর এবং ইমেইল দিয়ে নিবন্ধন করতে পারবেন।</b> </p>
                                    <p class="text-center"> <b><a href="https://rapidpass.com.bd/bn/index.php/welcome/registration_procedure">বিস্তারিত জানতে এখানে দেখুন।</a> </b>  </p> 
                                 </div>
                               </div>
                             </div>
                           </div>
                     </div>
                     <div class="modal-body">
                         <div class="row">
                             <div class="col-sm-12 col-md-12 col-lg-12">
                              <div class="form-group">
                                <label for="card_number">র‍্যাপিড পাস কার্ড নম্বর: <span style="color: red">*</span></label>
                                 <input type="text" class="form-control" name="card_number"  id="card_number" oninput="changeTextToUpper()" style="width:100%" placeholder="আপনার র‍্যাপিড পাস কার্ড নম্বরটি প্রদান করুন">
                                 <sapn class="error" id="card_error"></sapn>
                               </div>
                          </div> 
                         </div>
                         <div class="row">
                            <div class="col-sm-12 col-md-12 col-lg-12">
                             <div class="form-group">
                               <label for="email">ইমেইল এড্রেস: <span style="color: red">*</span></label>
                               <input type="email" class="form-control" name="email" id="email" style="width:100%" placeholder="আপনার ইমেইল এড্রেসটি প্রদান করুন">
                                 <sapn class="error" id="email_error"></sapn>
                             </div>
                            </div>
                         </div>
                     </div>
                     <div class="modal-footer">
                       <button type="button" class="btn btn-secondary" data-dismiss="modal">বন্ধ করুন</button>
                       <button type="sumbit" onclick="cardVerify()" class="btn btn-success">সাবমিট</button>
                     </div>
                   </div>
             </div>
           </div>
     <!-- End Verify Modal-->
     
     <!-- Start Token Modal-->
           <div class="modal fade" id="tokenModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" >
             <div class="modal-dialog modal-dialog-centered" role="document">
                   <div class="modal-content">
                     <div class="modal-header">
                       <h5 class="modal-title text-center" id="tokenModalTitle"></h5>
                       <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                         <span aria-hidden="true">×</span>
                       </button>
                     </div>
                     <div class="modal-body">
                         <div class="row">
                             <div class="col-sm-12 col-md-12 col-lg-12">
                              <div class="form-group">
                                <input type="hidden" id="display_card_number">
                                <label for="token">ভেরুিফিকেশন টোকেন:<span style="color: red">*</span></label>
                                 <input type="text" class="form-control" name="token" id="token" style="width:100%" placeholder="আপনার টোকেন প্রদান করুন">
                                 <sapn class="error" id="token_error"></sapn>
                                 <div  id="countdown-timer" style="color:green;margin-top:5px;"></div>
                               </div>
                          </div> 
                         </div>
                     </div>
                     <div class="modal-footer">
                       <button type="button" class="btn btn-secondary" data-dismiss="modal">বন্ধ করুন</button>
                       <button type="sumbit" onclick="tokenVerify()" class="btn btn-success">সাবমিট</button>
                     </div>
                   </div>
             </div>
           </div>
     <!-- End Token Modal-->
   
   
   
   
   <script>
   
   
       
        function changeTextToUpper(){
             let card_number = $('#card_number').val();
             $('#card_number').val(card_number.toUpperCase());
        }
        
       
        function cardVerify(){
            
         let cardCheck = true;
         let emailCheck =true;
         
         let email = $('#email').val().trim();
         let card_number = $('#card_number').val().trim();
         
        // let cardUpperCase = card_number.toUpperCase();
         let firstTwoChars = card_number.slice(0, 2);
   
         if(card_number==null || card_number==''){
                 cardCheck=false;
                 $("#card_error").text("আপনার র‍্যাপিড পাস কার্ড নম্বরটি প্রদান করুন..");
                 $("#card_error").css( "color", "red" );
         }else if(card_number.length!=16){
              cardCheck =false;
              $("#card_error").text("আপনার কার্ড নম্বরের সঠিক ডিজিট প্রদান করুন..");
              $("#card_error").css( "color", "red" );
         }else if(firstTwoCharsCheck(firstTwoChars)){
              cardCheck =false;
              $("#card_error").text("আপনার কার্ড নম্বরটি ভ্যালিড নয়..");
              $("#card_error").css( "color", "red" );
        }else if(regExpressionCheck(card_number)){
              cardCheck =false;
              $("#card_error").text("আপনার কার্ড নম্বরটি শুধুমাত্র অক্ষর বা অঙ্ক অনুমোদিত..");
              $("#card_error").css( "color", "red" );
        }else{
               cardCheck=true;
               $("#card_error").text("");
         }
         
         
         if(emailCheck==null || email==''){
                 emailCheck=false;
                 $("#email_error").text("আপনার ইমেইল এড্রেসটি প্রদান করুন..");
                 $("#email_error").css( "color", "red" );
         }else{
               emailCheck=true;
                $("#email_error").text("");
         }
         
         // Verify modal
         if(cardCheck && emailCheck){
              $.ajax({
                   url: "https://rapidpass.com.bd/bn/index.php/welcome/cardVerify",
                   type: "POST",
                   data: {email:email,card_number:card_number},
                    dataType: 'json',
                   success: function (response) {
                       // console.log(response.error);
                       if(response.error){
                          $('#verifyModal').modal('show');
                          $("#card_error").text(response.error);
                          $("#card_error").css( "color", "red" );
                       }else if(response.status=='ok'){
                          $('#email').val('');
                          $('#card_number').val('');
                          $('#verifyModal').modal('hide');
                          
                          //open token modal
                             $('#tokenModal').modal('show');
                             $('#display_card_number').val(response.display_card_number);
                             $('#tokenModalTitle').text(response.message);
                           //start count down
                            startCountdown();
                             //add css class
                       }
                   },
                   error: function(xhr, status, error) {
                     clearInterval(countdownInterval);
                    }
                });
         }
         
       }
       
      //first two character check for RP or DC
      function firstTwoCharsCheck(firstTwoChars){
             if(firstTwoChars=='RP' || firstTwoChars=='DC'){
                 return false;
             }else{
                    return true;
             }
         }
       
       //first two character check for RP or DC or MP
       // function firstTwoCharsCheck(firstTwoChars){
       //       if(firstTwoChars=='RP' || firstTwoChars=='DC' || firstTwoChars=='MP' ){
       //           return false;
       //       }else{
       //              return true;
       //       }
       //   }
   
   
       //regular expression check
       function regExpressionCheck(cardNumber){
           const regex = /^[A-Z0-9]+$/;     //one or more uppercase letters A to Z or digits 0 to 9
           if (regex.test(cardNumber)) {
             return false;
           }else{
             return true;
           }
         }
      
   
        //card verify modal close
                 
           $('#verifyModal').on('hidden.bs.modal', function () {
               $('#email').val('');
               $('#card_number').val('');
               $("#card_error").text("");
                $("#email_error").text("");
           });
           
       
       //token modal
          function tokenVerify(){
              let token = $("#token").val().trim();
              let display_card_number = $('#display_card_number').val();
              let tokenCheck = true;
              
               if(token==null || token==''){
                 tokenCheck=false;
                 $("#token_error").text("আপনার ভেরুিফিকেশন টোকেন প্রদান করুন..");
                 $("#token_error").css( "color", "red" );
                }else{
                   let tokenCheck = true;
                   $("#token_error").text("");
                }
                
                if(tokenCheck){
                  $.ajax({
                   url: "https://rapidpass.com.bd/bn/index.php/welcome/tokenVerify",
                   type: "POST",
                   data: {token:token,display_card_number:display_card_number},
                   dataType: 'json',
                   success: function (response) {
                       // console.log(response.error);
                       if(response.error){
                           $("#token_error").text(response.error);
                           $("#token_error").css( "color", "red" );
                       }else if(response.status=='ok'){
                           $("#token_error").text("");
                            //window.location.href  = 'https://rapidpass.com.bd/index.php/welcome/online_form?dpc='+response.display_card_number+'&tn='+response.token;
                             window.location.href  = 'https://rapidpass.com.bd/bn/index.php/online/form/'+response.display_card_number+'/'+response.token;
                       }
                   },
                   error: function(xhr, status, error) {
                    
                    }
                  });
                }
          }       
          
          
             //token verify modal close
                 
               $('#tokenModal').on('hidden.bs.modal', function () {
                   //console.log("close token");
                   clearInterval(countdownInterval);
                   document.getElementById("countdown-timer").innerText="";
                    $('#token').val('');
                    $("#token_error").text("");
                });
   </script>
   
   
   </body>
   </html>
   